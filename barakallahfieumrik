<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special for Syifa Ushodry ðŸ’™</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Caveat:wght@700&family=Merriweather:ital@1&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --biru-muda: #e1f5fe; --biru-cerah: #03a9f4; --biru-tua: #01579b; }
        body { margin: 0; background: var(--biru-muda); font-family: 'Quicksand', sans-serif; color: var(--biru-tua); overflow: hidden; }
        
        .screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; transition: 0.5s; padding: 20px; box-sizing: border-box; }
        .hidden { display: none !important; }

        /* Style Card */
        .card { background: rgba(255, 255, 255, 0.9); padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        
        /* Game 1: Bubbles */
        .bubble { position: absolute; background: rgba(3, 169, 244, 0.4); border: 2px solid var(--biru-cerah); border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        /* Input & Button */
        input { padding: 12px; border-radius: 10px; border: 2px solid var(--biru-cerah); width: 80%; margin: 10px 0; font-family: inherit; }
        button { padding: 12px 25px; background: var(--biru-cerah); color: white; border: none; border-radius: 20px; font-weight: bold; cursor: pointer; margin-top: 10px; }

        /* Puisi Section */
        .puisi-box { height: 300px; overflow-y: auto; text-align: left; font-family: 'Merriweather', serif; font-style: italic; line-height: 1.8; padding: 15px; background: #f9fdff; border-radius: 15px; }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mp3">
    </audio>

    <div id="step1" class="screen">
        <h2 style="font-family: 'Caveat'; font-size: 3rem;">Hai, Syifa Ushodry! ðŸ’™</h2>
        <p>Pecahin 10 gelembung rindu buat lanjut...</p>
        <div id="bubble-area"></div>
    </div>

    <div id="step2" class="screen hidden">
        <div class="card">
            <h1>Kuis Persahabatan ðŸ§©</h1>
            <p id="questionText">Siapa yang paling sering telat kalau mau ketemu?</p>
            <input type="text" id="quizInput" placeholder="Jawabannya...">
            <button onclick="checkQuiz()">Lanjut</button>
        </div>
    </div>

    <div id="step3" class="screen hidden">
        <div class="card">
            <h1 style="font-family: 'Caveat'; font-size: 2.5rem;">Untukmu, Syifa...</h1>
            <div id="puisiContent" class="puisi-box"></div>
            <button onclick="finalCelebrate()">I Love You More! ðŸ’™</button>
        </div>
    </div>

    <script>
        const music = document.getElementById('bgMusic');
        let bubblePop = 0;

        // Start Game 1
        for(let i=0; i<10; i++) {
            const b = document.createElement('div');
            b.className = 'bubble';
            b.style.width = b.style.height = '70px';
            b.style.left = Math.random() * 80 + 5 + 'vw';
            b.style.top = Math.random() * 80 + 5 + 'vh';
            b.innerText = 'ðŸ’™';
            b.onclick = function() {
                music.play(); // Musik mulai pas dia klik pertama
                this.style.display = 'none';
                bubblePop++;
                if(bubblePop === 10) nextStep(2);
            };
            document.getElementById('bubble-area').appendChild(b);
        }

        function nextStep(step) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
            document.getElementById('step' + step).classList.remove('hidden');
            if(step === 3) startPoem();
        }

        function checkQuiz() {
            const ans = document.getElementById('quizInput').value.toLowerCase();
            // Jawabannya bebas, ini contoh aja biar dia bisa lewat
            if(ans.length > 0) {
                nextStep(3);
            } else {
                alert("Jawab dulu dong Syifa! ðŸ˜‚");
            }
        }

        function startPoem() {
            const teksPuisi = `Di usiamu yang kini dua puluh tiga,<br>
            Sebuah angka yang baru, dengan kisah yang tak terduga.<br>
            Ku doakan semua langkahmu takkan sia-sia,<br>
            Atas hadirmu Syifa, syukurku tiada berhingga.<br><br>
            Teringat tawa kita yang pecah tanpa sebab,<br>
            Kau adalah telinga, saat duniaku terasa gelap.<br>
            Bagaimana kau mengerti aku, tanpa perlu banyak meminta,<br>
            Saat aku tak bisa ke sana, kau dengan senang hati datang ke sini tanpa cela.<br><br>
            Aku tahu itu kadang tak adil, dan aku merasa sering menuntut,<br>
            Tapi kau tak pernah mengeluh, hatimu tak pernah berkerut.<br>
            Terima kasih Syifa Ushodry, karena sudah sesabar itu,<br>
            Menerima segala batasku dengan hati yang begitu tentu.<br><br>
            Selamat ulang tahun, Sahabatku, semoga bahagiamu takkan pernah lekang. ðŸ’™`;

            let i = 0;
            const target = document.getElementById("puisiContent");
            function typing() {
                if (i < teksPuisi.length) {
                    if (teksPuisi.slice(i, i + 4) === "<br>") { target.innerHTML += "<br>"; i += 4; }
                    else { target.innerHTML += teksPuisi.charAt(i); i++; }
                    setTimeout(typing, 40);
                    target.scrollTop = target.scrollHeight;
                }
            }
            typing();
        }

        function finalCelebrate() {
            confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
            alert("Happy Birthday 23rd Syifa Ushodry! ðŸ’™âœ¨");
        }
    </script>
</body>
</html>
